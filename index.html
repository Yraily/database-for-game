<!DOCTYPE html>
<html lang="en-us">

    <head>
        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>DefensePlants | Laminar Flow</title>
        <link rel="shortcut icon" href="TemplateData/favicon.ico">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
            integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

        <style>
            /* ========== VARIABLES & BASE STYLES ========== */
            :root {
                --primary: #a855f7;
                --secondary: #ec4899;
                --accent: #4ade80;
                --dark: #0d0c1d;
                --darker: #070616;
                --light: #c4b5fd;
                --card-bg: rgba(255, 255, 255, 0.05);
                --glass: rgba(255, 255, 255, 0.1);
            }

            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }

            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                background: linear-gradient(to bottom, var(--dark) 0%, #2b1547 100%);
                background-repeat: no-repeat;
                background-attachment: fixed;
                color: #fff;
                line-height: 1.6;
                overflow-x: hidden;
                min-height: 100vh;
                display: flex;
                flex-direction: column;
            }

            /* ========== BACKGROUND ELEMENTS ========== */
            .blur-biru {
                position: fixed;
                top: -10%;
                right: -10%;
                width: 40%;
                height: 40%;
                background: radial-gradient(circle, rgba(168, 85, 247, 0.3) 0%, rgba(168, 85, 247, 0) 70%);
                filter: blur(40px);
                z-index: 1;
                pointer-events: none;
            }

            .blur-pink {
                position: fixed;
                bottom: -10%;
                left: -10%;
                width: 40%;
                height: 40%;
                background: radial-gradient(circle, rgba(236, 72, 153, 0.3) 0%, rgba(236, 72, 153, 0) 70%);
                filter: blur(40px);
                z-index: 1;
                pointer-events: none;
            }

            /* ========== NAVBAR ========== */
            .custom-navbar {
                z-index: 4000;
                background: rgba(10, 10, 25, 0.9) !important;
                backdrop-filter: blur(14px);
                border-bottom: 1px solid rgba(148, 163, 253, 0.25);
                padding: 0.8rem 0;
            }

            .navbar-brand {
                display: flex;
                align-items: center;
                gap: 0.5rem;
                text-decoration: none;
            }

            .navbar-brand img {
                width: 45px;
                height: 45px;
                border-radius: 50%;
                object-fit: contain;
            }

            .brand-text {
                font-weight: 700;
                font-size: 1.3rem;
                color: #fff;
            }

            .brand-text .flow {
                background: linear-gradient(90deg, var(--primary), var(--secondary));
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
                background-clip: text;
            }

            .nav-link {
                color: #fff !important;
                margin: 0 1rem;
                font-weight: 500;
                transition: color 0.3s ease;
                position: relative;
            }

            .nav-link:hover {
                color: #c084fc !important;
            }

            .nav-link.active::after {
                content: '';
                position: absolute;
                bottom: -5px;
                left: 0;
                width: 100%;
                height: 2px;
                background: linear-gradient(90deg, var(--primary), var(--secondary));
            }

            .glass-toggle {
                border-radius: 999px;
                border: 1px solid rgba(168, 85, 247, 0.7);
                background: radial-gradient(circle at top left,
                        rgba(168, 85, 247, 0.45),
                        rgba(15, 23, 42, 0.9));
                padding: 6px 10px;
                backdrop-filter: blur(14px);
                box-shadow: 0 0 12px rgba(168, 85, 247, 0.6);
            }

            .glass-toggle .navbar-toggler-icon {
                filter: brightness(0) invert(1);
                width: 22px;
                height: 22px;
            }

            /* ========== GAME CONTAINER ========== */
            .game-container {
                position: relative;
                z-index: 2;
                flex: 1;
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                padding: 2rem 1rem;
                margin-top: 80px;
                width: 100%;
            }

            .game-header {
                text-align: center;
                margin-bottom: 2rem;
                max-width: 800px;
                width: 100%;
            }

            .game-title {
                font-size: 3rem;
                font-weight: 800;
                margin-bottom: 1rem;
                background: linear-gradient(90deg, var(--primary), var(--secondary));
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
            }

            .game-subtitle {
                font-size: 1.2rem;
                color: var(--light);
                margin-bottom: 2rem;
            }

            .game-info {
                display: flex;
                justify-content: center;
                gap: 2rem;
                flex-wrap: wrap;
                margin-bottom: 2rem;
                width: 100%;
            }

            .info-card {
                background: var(--card-bg);
                border-radius: 12px;
                padding: 1rem 1.5rem;
                text-align: center;
                backdrop-filter: blur(8px);
                border: 1px solid rgba(255, 255, 255, 0.1);
                min-width: 150px;
                transition: transform 0.3s ease, box-shadow 0.3s ease;
            }

            .info-card:hover {
                transform: translateY(-5px);
                box-shadow: 0 10px 20px rgba(168, 85, 247, 0.2);
            }

            .info-card h3 {
                font-size: 1rem;
                color: var(--light);
                margin-bottom: 0.5rem;
            }

            .info-card p {
                font-size: 1.1rem;
                font-weight: 600;
                color: #fff;
            }

            /* ========== FEATURES SECTION ========== */
            .features-section {
                padding: 3rem 1rem;
                max-width: 1200px;
                margin: 0 auto;
                width: 100%;
            }

            .section-title {
                font-size: 2.5rem;
                font-weight: 700;
                margin-bottom: 3rem;
                position: relative;
                display: inline-block;
                color: #fff;
                text-align: center;
                width: 100%;
            }

            .section-title::after {
                content: '';
                position: absolute;
                left: 50%;
                transform: translateX(-50%);
                bottom: -10px;
                width: 80px;
                height: 4px;
                background: linear-gradient(90deg, var(--primary), var(--secondary));
                border-radius: 2px;
            }

            .features-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
                gap: 1.5rem;
                margin-bottom: 3rem;
            }

            .feature-card {
                background: var(--card-bg);
                border-radius: 15px;
                padding: 2rem;
                text-align: center;
                backdrop-filter: blur(8px);
                border: 1px solid rgba(255, 255, 255, 0.1);
                transition: transform 0.3s ease, box-shadow 0.3s ease;
            }

            .feature-card:hover {
                transform: translateY(-10px);
                box-shadow: 0 15px 30px rgba(168, 85, 247, 0.2);
            }

            .feature-icon {
                font-size: 3rem;
                margin-bottom: 1.5rem;
                background: linear-gradient(90deg, var(--primary), var(--secondary));
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
            }

            .feature-card h3 {
                font-size: 1.5rem;
                margin-bottom: 1rem;
                color: #fff;
            }

            .feature-card p {
                color: var(--light);
                line-height: 1.6;
            }

            /* ========== GAME CONTROLS ========== */
            .game-controls {
                display: flex;
                justify-content: center;
                gap: 1rem;
                flex-wrap: wrap;
                margin: 2rem 0;
                width: 100%;
            }

            .control-btn {
                background: var(--card-bg);
                border: 1px solid rgba(255, 255, 255, 0.1);
                color: #fff;
                padding: 0.8rem 1.5rem;
                border-radius: 50px;
                display: flex;
                align-items: center;
                gap: 0.5rem;
                cursor: pointer;
                transition: all 0.3s ease;
                backdrop-filter: blur(8px);
            }

            .control-btn:hover {
                background: rgba(168, 85, 247, 0.2);
                transform: translateY(-3px);
            }

            /* ========== ACHIEVEMENTS ========== */
            .achievements-section {
                padding: 3rem 1rem;
                max-width: 1000px;
                margin: 0 auto;
                width: 100%;
            }

            .achievements-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                gap: 1.5rem;
            }

            .achievement-card {
                background: var(--card-bg);
                border-radius: 12px;
                padding: 1.5rem;
                display: flex;
                align-items: center;
                gap: 1rem;
                backdrop-filter: blur(8px);
                border: 1px solid rgba(255, 255, 255, 0.1);
                transition: transform 0.3s ease;
            }

            .achievement-card:hover {
                transform: translateY(-5px);
            }

            .achievement-icon {
                font-size: 2rem;
                color: var(--accent);
            }

            .achievement-info h4 {
                font-size: 1.1rem;
                margin-bottom: 0.5rem;
                color: #fff;
            }

            .achievement-info p {
                color: var(--light);
                font-size: 0.9rem;
            }

            /* ========== BUTTONS ========== */
            .btn-hero {
                display: inline-block;
                font-weight: 600;
                padding: 0.8rem 2rem;
                border-radius: 50px;
                text-decoration: none;
                transition: all 0.3s ease;
                border: none;
                cursor: pointer;
            }

            .btn-hero-main {
                background: linear-gradient(90deg, var(--primary), var(--secondary));
                color: #fff;
                box-shadow: 0 0 12px rgba(168, 85, 247, 0.5);
            }

            .btn-hero-alt {
                border: 2px solid var(--primary);
                color: #fff;
                background: transparent;
            }

            .btn-hero-main:hover {
                transform: translateY(-3px);
                box-shadow: 0 0 20px rgba(236, 72, 153, 0.7);
                background: linear-gradient(90deg, #9333ea, #db2777);
                color: #fff !important;
            }

            .btn-hero-alt:hover {
                background: linear-gradient(90deg, rgba(168, 85, 247, 0.2), rgba(236, 72, 153, 0.2));
                box-shadow: 0 0 10px rgba(168, 85, 247, 0.4);
                transform: translateY(-3px);
                color: #fff !important;
            }

            /* ========== UNITY CANVAS CONTAINER ========== */
            .unity-game-container {
                width: 100%;
                display: flex;
                justify-content: center;
                align-items: center;
                margin: 2rem 0;
                padding: 0 1rem;
            }

            #unity-container {
                position: relative !important;
                width: 100% !important;
                max-width: 960px !important;
                margin: 0 auto !important;
                left: auto !important;
                top: auto !important;
                transform: none !important;
            }

            #unity-canvas {
                width: 100% !important;
                height: auto !important;
                max-width: 960px !important;
                border-radius: 12px;
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
                display: block;
                margin: 0 auto;
            }

            .unity-desktop {
                position: relative !important;
                left: auto !important;
                top: auto !important;
                transform: none !important;
            }

            /* ========== FOOTER ========== */
            .footer {
                background: var(--darker);
                color: #fff;
                text-align: center;
                padding: 3rem 1rem;
                margin-top: auto;
                width: 100%;
            }

            .footer-logo {
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 0.5rem;
                margin-bottom: 1rem;
            }

            .footer-logo img {
                width: 45px;
                height: 45px;
                border-radius: 50%;
                object-fit: contain;
            }

            .footer-logo h2 {
                font-size: 1.3rem;
                font-weight: 700;
                margin: 0;
                color: #fff;
            }

            .footer-logo .highlight {
                background: linear-gradient(90deg, var(--primary), var(--secondary));
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
                background-clip: text;
            }

            .footer-nav {
                display: flex;
                justify-content: center;
                gap: 2rem;
                margin: 1rem 0;
                padding: 0;
                list-style: none;
                flex-wrap: wrap;
            }

            .footer-nav a {
                color: #fff;
                text-decoration: none;
                font-size: 1rem;
                transition: color 0.3s;
            }

            .footer-nav a:hover {
                color: #e272ff;
            }

            .footer hr {
                border: 0;
                border-top: 1px solid rgba(255, 255, 255, 0.2);
                margin: 1.5rem auto;
                width: 80%;
            }

            .footer-text {
                max-width: 700px;
                margin: 0 auto 1.5rem auto;
                font-size: 0.9rem;
                line-height: 1.6;
                color: #bbb;
            }

            .footer-social {
                display: flex;
                justify-content: center;
                gap: 1.5rem;
            }

            .footer-social a {
                color: #fff;
                font-size: 1.5rem;
                transition: color 0.3s;
            }

            .footer-social a:hover {
                color: #e272ff;
            }

            /* ========== LEADERBOARD STYLES ========== */
            .leaderboard-section {
                padding: 3rem 1rem;
                max-width: 1000px;
                margin: 0 auto;
                width: 100%;
            }

            .leaderboard-container {
                background: var(--card-bg);
                border-radius: 15px;
                padding: 2rem;
                backdrop-filter: blur(8px);
                border: 1px solid rgba(255, 255, 255, 0.1);
                margin-bottom: 2rem;
                min-height: 400px;
                display: flex;
                flex-direction: column;
            }

            .leaderboard-header {
                display: grid;
                grid-template-columns: 80px 1fr 120px 100px;
                gap: 1rem;
                padding: 1rem 1.5rem;
                background: rgba(168, 85, 247, 0.1);
                border-radius: 10px;
                margin-bottom: 1rem;
                font-weight: 600;
                color: var(--light);
                border: 1px solid rgba(168, 85, 247, 0.3);
            }

            .leaderboard-scores {
                display: flex;
                flex-direction: column;
                gap: 0.5rem;
            }

            .leaderboard-item {
                display: grid;
                grid-template-columns: 80px 1fr 120px 100px;
                gap: 1rem;
                padding: 1rem 1.5rem;
                background: rgba(255, 255, 255, 0.05);
                border-radius: 10px;
                transition: all 0.3s ease;
                border: 1px solid transparent;
            }

            .leaderboard-item:hover {
                background: rgba(168, 85, 247, 0.1);
                transform: translateX(5px);
                border-color: rgba(168, 85, 247, 0.3);
            }

            .leaderboard-item.top-1 {
                background: linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(255, 215, 0, 0.05));
                border: 2px solid gold;
                box-shadow: 0 0 20px rgba(255, 215, 0, 0.3);
            }

            .leaderboard-item.top-2 {
                background: linear-gradient(135deg, rgba(192, 192, 192, 0.2), rgba(192, 192, 192, 0.05));
                border: 2px solid silver;
            }

            .leaderboard-item.top-3 {
                background: linear-gradient(135deg, rgba(205, 127, 50, 0.2), rgba(205, 127, 50, 0.05));
                border: 2px solid #cd7f32;
            }

            .rank {
                font-weight: 700;
                font-size: 1.1rem;
                display: flex;
                align-items: center;
                gap: 0.5rem;
            }

            .rank-medal {
                font-size: 1.3rem;
            }

            .player-name {
                font-weight: 500;
                color: #fff;
            }

            .player-score {
                font-weight: 600;
                color: var(--accent);
                text-align: right;
            }

            .player-stage {
                text-align: center;
                color: var(--light);
                font-size: 0.9rem;
            }

            .leaderboard-loading,
            .leaderboard-error {
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                gap: 1rem;
                padding: 3rem;
                text-align: center;
            }

            .leaderboard-loading .spinner-border {
                width: 3rem;
                height: 3rem;
                color: var(--primary);
            }

            .leaderboard-error i {
                font-size: 3rem;
                color: #ff6b6b;
                margin-bottom: 1rem;
            }

            .leaderboard-actions {
                display: flex;
                justify-content: center;
                gap: 1rem;
                flex-wrap: wrap;
            }

            /* ===========================
        RESPONSIVE DESIGN FIXES
        =========================== */

            /* Large Desktop */
            @media (min-width: 1200px) {
                .game-title {
                    font-size: 3.5rem;
                }

                .section-title {
                    font-size: 2.8rem;
                }
            }

            /* Desktop */
            @media (min-width: 992px) {
                .info-cards-wrapper {
                    display: flex !important;
                    justify-content: center;
                    align-items: stretch;
                    gap: 1.5rem;
                    width: 100%;
                    max-width: 1000px;
                    margin: 0 auto;
                }

                .info-card {
                    flex: 1;
                    min-width: 0;
                    max-width: 220px;
                    min-height: 120px;
                    display: flex;
                    flex-direction: column;
                    justify-content: center;
                }
            }

            /* Tablet */
            @media (max-width: 991px) and (min-width: 768px) {
                .game-title {
                    font-size: 2.8rem;
                }

                .info-cards-wrapper {
                    display: grid !important;
                    grid-template-columns: repeat(2, 1fr);
                    gap: 1.5rem;
                    width: 100%;
                    max-width: 600px;
                    margin: 0 auto;
                }

                .info-card {
                    min-height: 110px;
                }

                .features-grid {
                    grid-template-columns: repeat(2, 1fr);
                }

                .leaderboard-header {
                    grid-template-columns: 70px 1fr 100px 80px;
                    font-size: 0.9rem;
                }

                .leaderboard-item {
                    grid-template-columns: 70px 1fr 100px 80px;
                    font-size: 0.9rem;
                }
            }

            /* Mobile Landscape & Small Tablet */
            @media (max-width: 767px) {
                .game-container {
                    padding: 1.5rem 1rem;
                    margin-top: 70px;
                }

                .game-title {
                    font-size: 2.5rem;
                    margin-bottom: 0.8rem;
                }

                .game-subtitle {
                    font-size: 1.1rem;
                    margin-bottom: 1.5rem;
                }

                .section-title {
                    font-size: 2rem;
                    margin-bottom: 2rem;
                }

                .info-cards-wrapper {
                    display: grid !important;
                    grid-template-columns: repeat(2, 1fr);
                    gap: 1rem;
                    width: 100%;
                    padding: 0 0.5rem;
                }

                .info-card {
                    padding: 1rem 0.8rem;
                    min-height: 90px;
                }

                .info-card h3 {
                    font-size: 0.85rem;
                    margin-bottom: 0.3rem;
                }

                .info-card p {
                    font-size: 1rem;
                }

                .game-controls {
                    display: grid;
                    grid-template-columns: repeat(2, 1fr);
                    gap: 0.8rem;
                    width: 100%;
                    max-width: 400px;
                    margin: 1.5rem auto;
                }

                .control-btn,
                .btn-hero {
                    padding: 0.7rem 1rem;
                    font-size: 0.9rem;
                    justify-content: center;
                    text-align: center;
                }

                .features-grid {
                    grid-template-columns: 1fr;
                    gap: 1.2rem;
                }

                .feature-card {
                    padding: 1.5rem;
                }

                .feature-icon {
                    font-size: 2.5rem;
                    margin-bottom: 1rem;
                }

                .feature-card h3 {
                    font-size: 1.3rem;
                }

                .achievements-grid {
                    grid-template-columns: 1fr;
                    gap: 1rem;
                }

                .achievement-card {
                    padding: 1.2rem;
                }

                .leaderboard-container {
                    padding: 1.5rem 1rem;
                }

                .leaderboard-header {
                    grid-template-columns: 50px 1fr 70px 60px;
                    gap: 0.8rem;
                    padding: 0.8rem 1rem;
                    font-size: 0.8rem;
                }

                .leaderboard-item {
                    grid-template-columns: 50px 1fr 70px 60px;
                    gap: 0.8rem;
                    padding: 0.8rem 1rem;
                    font-size: 0.85rem;
                }

                .rank {
                    font-size: 0.9rem;
                }

                .player-stage {
                    font-size: 0.8rem;
                }

                .footer-nav {
                    gap: 1.5rem;
                    flex-wrap: wrap;
                }

                .footer-nav a {
                    font-size: 0.9rem;
                }

                .footer-social {
                    gap: 1rem;
                }

                .footer-social a {
                    font-size: 1.3rem;
                }
            }

            /* Small Mobile */
            @media (max-width: 480px) {
                .game-title {
                    font-size: 2rem;
                }

                .game-subtitle {
                    font-size: 1rem;
                }

                .section-title {
                    font-size: 1.8rem;
                }

                .info-cards-wrapper {
                    grid-template-columns: repeat(2, 1fr);
                    gap: 0.8rem;
                }

                .info-card {
                    padding: 0.8rem 0.5rem;
                    min-height: 80px;
                }

                .info-card h3 {
                    font-size: 0.8rem;
                }

                .info-card p {
                    font-size: 0.9rem;
                }

                .game-controls {
                    grid-template-columns: 1fr;
                    gap: 0.7rem;
                }

                .feature-card {
                    padding: 1.2rem;
                }

                .feature-icon {
                    font-size: 2rem;
                }

                .feature-card h3 {
                    font-size: 1.2rem;
                }

                .leaderboard-header {
                    grid-template-columns: 40px 1fr 60px 50px;
                    gap: 0.5rem;
                    padding: 0.7rem 0.8rem;
                    font-size: 0.75rem;
                }

                .leaderboard-item {
                    grid-template-columns: 40px 1fr 60px 50px;
                    gap: 0.5rem;
                    padding: 0.7rem 0.8rem;
                    font-size: 0.8rem;
                }

                .rank-medal {
                    font-size: 1rem;
                }

                .footer-nav {
                    gap: 1rem;
                }

                .footer-nav a {
                    font-size: 0.85rem;
                }

                .brand-text {
                    font-size: 1.1rem;
                }

                .navbar-brand img {
                    width: 35px;
                    height: 35px;
                }
            }

            /* Very Small Mobile */
            @media (max-width: 360px) {
                .game-title {
                    font-size: 1.8rem;
                }

                .info-cards-wrapper {
                    grid-template-columns: 1fr;
                    gap: 0.7rem;
                }

                .info-card {
                    max-width: 250px;
                    margin: 0 auto;
                }

                .leaderboard-header {
                    grid-template-columns: 35px 1fr 50px 45px;
                    font-size: 0.7rem;
                }

                .leaderboard-item {
                    grid-template-columns: 35px 1fr 50px 45px;
                    font-size: 0.75rem;
                }
            }

            /* Unity Canvas Responsive */
            @media (max-width: 960px) {
                #unity-canvas {
                    width: 100% !important;
                    height: auto !important;
                }

                .unity-game-container {
                    padding: 0 0.5rem;
                }
            }

            /* Animation for elements */
            .fade-in-up {
                animation: fadeInUp 0.6s ease-out;
            }

            @keyframes fadeInUp {
                from {
                    opacity: 0;
                    transform: translateY(30px);
                }

                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }

        </style>
    </head>

    <body class="text-white">
        <!-- ========== BACKGROUND BLUR ========== -->
        <div class="blur-biru"></div>
        <div class="blur-pink"></div>

        <!-- ========== NAVBAR ========== -->
        <nav class="navbar navbar-expand-lg navbar-dark fixed-top custom-navbar">
            <div class="container">
                <a class="navbar-brand" href="index.html">
                    <img src="images/icon-logo.png" alt="Laminar Flow">
                    <span class="brand-text">Laminar <span class="flow">Flow</span></span>
                </a>
                <button class="navbar-toggler glass-toggle" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarNav">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="index.html">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="game.html">Games</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="about.html">About</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="news.html">News</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="showcase.html">Showcase</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <!-- ========== GAME CONTAINER ========== -->
        <div class="game-container">

            <div class="game-header fade-in-up">
                <h1 class="game-title">DefensePlants</h1>
                <p class="game-subtitle">Protect your garden from invading pests in this strategic tower defense game
                    with unique plant-based mechanics</p>

                <!-- ========== GAME PLAY AREA ========== -->
                <section class="unity-game-container" id="play">
                    <div id="unity-container" class="unity-desktop fade-in-up">
                        <canvas id="unity-canvas" width=960 height=600 tabindex="-1"></canvas>
                        <div id="unity-loading-bar">
                            <div id="unity-logo"></div>
                            <div id="unity-progress-bar-empty">
                                <div id="unity-progress-bar-full"></div>
                            </div>
                        </div>
                        <div id="unity-warning"> </div>
                        <div id="unity-footer">
                            <div id="unity-logo-title-footer"></div>
                            <div id="unity-fullscreen-button"></div>
                            <div id="unity-build-title">DefensePlants</div>
                        </div>
                    </div>
                </section>

                <div class="info-cards-wrapper">
                    <div class="info-card">
                        <h3>Genre</h3>
                        <p>Tower Defense</p>
                    </div>
                    <div class="info-card">
                        <h3>Platform</h3>
                        <p>Web Browser</p>
                    </div>
                    <div class="info-card">
                        <h3>Players</h3>
                        <p>Single Player</p>
                    </div>
                    <div class="info-card">
                        <h3>Status</h3>
                        <p>Available Now</p>
                    </div>
                </div>

                <div class="game-controls fade-in-up delay-3">
                    <a href="game.html" class="btn-hero btn-hero-alt me-2">
                        <i class="fas fa-arrow-left me-2"></i>Back to Games
                    </a>
                    <a href="#play" class="btn-hero btn-hero-main me-2">
                        <i class="fas fa-play me-2"></i>Play Now
                    </a>
                    <button class="control-btn" id="toggleSound">
                        <i class="fas fa-volume-up"></i> Sound
                    </button>
                    <button class="control-btn" id="toggleFullscreen">
                        <i class="fas fa-expand"></i> Fullscreen
                    </button>
                </div>
            </div>

            <!-- ========== GAME FEATURES ========== -->
            <section class="features-section">
                <h2 class="section-title">Game Features</h2>
                <div class="features-grid">
                    <div class="feature-card fade-in-up">
                        <div class="feature-icon">
                            <i class="fas fa-seedling"></i>
                        </div>
                        <h3>Unique Plant Types</h3>
                        <p>Discover and unlock various plant species, each with special abilities to defend your garden
                            from different types of pests.</p>
                    </div>
                    <div class="feature-card fade-in-up delay-1">
                        <div class="feature-icon">
                            <i class="fas fa-trophy"></i>
                        </div>
                        <h3>Achievement System</h3>
                        <p>Earn badges and rewards as you progress through increasingly challenging levels and master
                            different strategies.</p>
                    </div>
                    <div class="feature-card fade-in-up delay-2">
                        <div class="feature-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <h3>Progressive Difficulty</h3>
                        <p>Start with simple mechanics and gradually unlock more complex gameplay elements as you
                            advance through the game.</p>
                    </div>
                </div>
            </section>

            <!-- ========== LEADERBOARD SECTION ========== -->
            <section class="leaderboard-section">
                <h2 class="section-title">üèÜ Top Players</h2>

                <div class="leaderboard-container">
                    <!-- Loading State -->
                    <div id="leaderboard-loading" class="leaderboard-loading">
                        <div class="spinner-border text-primary" role="status">
                            <span class="visually-hidden">Loading...</span>
                        </div>
                        <p>Loading leaderboard...</p>
                    </div>

                    <!-- Leaderboard Content -->
                    <div id="leaderboard-content" class="leaderboard-content" style="display: none;">
                        <div class="leaderboard-header">
                            <span>Rank</span>
                            <span>Player</span>
                            <span>Score</span>
                            <span>Stage</span>
                        </div>
                        <div id="leaderboard-scores" class="leaderboard-scores">
                            <!-- Scores will be loaded dynamically -->
                        </div>
                    </div>

                    <!-- Error State -->
                    <div id="leaderboard-error" class="leaderboard-error" style="display: none;">
                        <i class="fas fa-exclamation-triangle"></i>
                        <p>Failed to load leaderboard. Please try again later.</p>
                        <button class="btn-hero btn-hero-alt" id="retryLeaderboard">
                            <i class="fas fa-redo"></i> Retry
                        </button>
                    </div>
                </div>

                <div class="leaderboard-actions">
                    <button class="btn-hero btn-hero-main" id="refreshLeaderboard">
                        <i class="fas fa-sync-alt"></i> Refresh
                    </button>
                    <button class="btn-hero btn-hero-alt" id="viewFullLeaderboard">
                        <i class="fas fa-external-link-alt"></i> View Full Leaderboard
                    </button>
                </div>
            </section>

            <!-- ========== ACHIEVEMENTS ========== -->
            <section class="achievements-section">
                <h2 class="section-title">Achievements</h2>
                <div class="achievements-grid">
                    <div class="achievement-card fade-in-up">
                        <div class="achievement-icon">
                            <i class="fas fa-leaf"></i>
                        </div>
                        <div class="achievement-info">
                            <h4>First Sprout</h4>
                            <p>Complete the tutorial level</p>
                        </div>
                    </div>
                    <div class="achievement-card fade-in-up delay-1">
                        <div class="achievement-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <div class="achievement-info">
                            <h4>Garden Guardian</h4>
                            <p>Defend against 100 pests</p>
                        </div>
                    </div>
                    <div class="achievement-card fade-in-up delay-2">
                        <div class="achievement-icon">
                            <i class="fas fa-crown"></i>
                        </div>
                        <div class="achievement-info">
                            <h4>Master Gardener</h4>
                            <p>Complete all levels with 3 stars</p>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- ========== FOOTER ========== -->
        <footer class="footer">
            <div class="container">
                <div class="footer-logo">
                    <img src="images/icon-logo.png" alt="Laminar Flow">
                    <h2>Laminar <span class="highlight">Flow</span></h2>
                </div>

                <ul class="footer-nav">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="game.html">Games</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="news.html">News</a></li>
                    <li><a href="showcase.html">Showcase</a></li>
                </ul>

                <hr>

                <p class="footer-text">
                    Creating immersive and meaningful gaming experiences that inspire and educate players worldwide.
                </p>

                <div class="footer-social">
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-discord"></i></a>
                    <a href="#"><i class="fab fa-youtube"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                </div>

                <p class="footer-text mt-3">
                    &copy; 2023 Laminar Flow. All rights reserved.
                </p>
            </div>
        </footer>

        <!-- ========== SCRIPTS ========== -->
        <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
        <script>
            // ===========================
            // UNITY GAME LOADER
            // ===========================
            var canvas = document.querySelector("#unity-canvas");

            function unityShowBanner(msg, type) {
                var warningBanner = document.querySelector("#unity-warning");

                function updateBannerVisibility() {
                    warningBanner.style.display = warningBanner.children.length ? 'block' : 'none';
                }
                var div = document.createElement('div');
                div.innerHTML = msg;
                warningBanner.appendChild(div);
                if (type == 'error') div.style = 'background: red; padding: 10px;';
                else {
                    if (type == 'warning') div.style = 'background: yellow; padding: 10px;';
                    setTimeout(function() {
                        warningBanner.removeChild(div);
                        updateBannerVisibility();
                    }, 5000);
                }
                updateBannerVisibility();
            }

            var buildUrl = "Build";
            var loaderUrl = buildUrl + "/tes.loader.js";
            var config = {
                arguments: [],
                dataUrl: buildUrl + "/tes.data",
                frameworkUrl: buildUrl + "/tes.framework.js",
                codeUrl: buildUrl + "/tes.wasm",
                streamingAssetsUrl: "StreamingAssets",
                companyName: "DefaultCompany",
                productName: "DefensePlants",
                productVersion: "1.0",
                showBanner: unityShowBanner,
            };

            if (/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)) {
                var meta = document.createElement('meta');
                meta.name = 'viewport';
                meta.content =
                    'width=device-width, height=device-height, initial-scale=1.0, user-scalable=no, shrink-to-fit=yes';
                document.getElementsByTagName('head')[0].appendChild(meta);
                document.querySelector("#unity-container").className = "unity-mobile";
                canvas.className = "unity-mobile";
            } else {
                canvas.style.width = "960px";
                canvas.style.height = "600px";
            }

            document.querySelector("#unity-loading-bar").style.display = "block";

            var script = document.createElement("script");
            script.src = loaderUrl;
            script.onload = () => {
                createUnityInstance(canvas, config, (progress) => {
                    document.querySelector("#unity-progress-bar-full").style.width = 100 * progress + "%";
                }).then((unityInstance) => {
                    document.querySelector("#unity-loading-bar").style.display = "none";
                    document.querySelector("#unity-fullscreen-button").onclick = () => {
                        unityInstance.SetFullscreen(1);
                    };

                    // Assign to global variable for other functions to use
                    window.unityInstance = unityInstance;

                }).catch((message) => {
                    alert("Failed to load game: " + message);
                });
            };

            document.body.appendChild(script);

            // ===========================
            // SUPABASE CONFIGURATION
            // ===========================
            const SUPABASE_URL = "https://fnmcpjsdhvugmalykeqx.supabase.co";
            const SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZubWNwanNkaHZ1Z21hbHlrZXF4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM1NjMwODcsImV4cCI6MjA3OTEzOTA4N30.z0tDCx1v2Uv-bNCErhUF5syKWDMswxJt4fJ2ZJSVQwI";

            let supabaseClient = null;

            // Initialize Supabase
            function initSupabase() {
                try {
                    supabaseClient = supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
                    console.log("Supabase initialized successfully");
                    return true;
                } catch (error) {
                    console.error("Failed to initialize Supabase:", error);
                    return false;
                }
            }

            // ===========================
            // LEADERBOARD FUNCTIONS
            // ===========================
            function getMedalForRank(rank) {
                switch (rank) {
                    case 1:
                        return "ü•á";
                    case 2:
                        return "ü•à";
                    case 3:
                        return "ü•â";
                    default:
                        return "";
                }
            }

            function escapeHtml(value) {
                if (value === null || value === undefined) return '';
                const unsafe = String(value);
                return unsafe
                    .replace(/&/g, "&amp;")
                    .replace(/</g, "&lt;")
                    .replace(/>/g, "&gt;")
                    .replace(/"/g, "&quot;")
                    .replace(/'/g, "&#039;");
            }

            function showLeaderboardError() {
                const loadingEl = document.getElementById('leaderboard-loading');
                const contentEl = document.getElementById('leaderboard-content');
                const errorEl = document.getElementById('leaderboard-error');

                if (loadingEl) loadingEl.style.display = 'none';
                if (contentEl) contentEl.style.display = 'none';
                if (errorEl) errorEl.style.display = 'flex';
            }

            function renderLeaderboard(scores) {
                const loadingEl = document.getElementById('leaderboard-loading');
                const contentEl = document.getElementById('leaderboard-content');
                const scoresContainer = document.getElementById('leaderboard-scores');

                if (!scoresContainer) return;

                scoresContainer.innerHTML = '';

                if (!scores || scores.length === 0) {
                    scoresContainer.innerHTML = `
                    <div class="leaderboard-item" style="text-align: center; grid-template-columns: 1fr;">
                        <div style="padding: 2rem; color: var(--light);">
                            <i class="fas fa-trophy" style="font-size: 2rem; margin-bottom: 1rem;"></i>
                            <p>No scores yet. Be the first to play!</p>
                        </div>
                    </div>
                `;
                } else {
                    scores.forEach((row, index) => {
                        const rank = index + 1;
                        const medal = getMedalForRank(rank);
                        const rankClass = rank <= 3 ? `top-${rank}` : '';

                        const item = document.createElement('div');
                        item.className = `leaderboard-item ${rankClass} fade-in-up`;
                        item.style.animationDelay = `${index * 0.05}s`;

                        item.innerHTML = `
                        <div class="rank">
                            ${medal ? `<span class="rank-medal">${medal}</span>` : ''}
                            <span>#${rank}</span>
                        </div>
                        <div class="player-name">${escapeHtml(row.player_name || 'Anonymous')}</div>
                        <div class="player-score">${row.score ?? 0}</div>
                        <div class="player-stage">${row.stage || '-'}</div>
                    `;

                        scoresContainer.appendChild(item);
                    });
                }

                if (loadingEl) loadingEl.style.display = 'none';
                if (contentEl) contentEl.style.display = 'block';
            }

            async function loadLeaderboard() {
                const loadingEl = document.getElementById('leaderboard-loading');
                const contentEl = document.getElementById('leaderboard-content');
                const errorEl = document.getElementById('leaderboard-error');

                if (loadingEl) loadingEl.style.display = 'flex';
                if (contentEl) contentEl.style.display = 'none';
                if (errorEl) errorEl.style.display = 'none';

                try {
                    if (!supabaseClient) {
                        showLeaderboardError();
                        return;
                    }

                    const { data, error } = await supabaseClient
                        .from('scores')
                        .select('*')
                        .order('score', { ascending: false })
                        .limit(10);

                    if (error) {
                        console.error('Failed to fetch leaderboard:', error);
                        showLeaderboardError();
                        return;
                    }

                    renderLeaderboard(data || []);
                } catch (error) {
                    console.error('Unexpected error loading leaderboard:', error);
                    showLeaderboardError();
                }
            }

            async function saveScore(playerName, score, stage = 1) {
                try {
                    if (!supabaseClient) {
                        console.warn("Supabase not configured - score not saved");
                        return false;
                    }

                    const { error } = await supabaseClient
                        .from('scores')
                        .insert({
                            player_name: playerName,
                            score: score,
                            stage: stage,
                            created_at: new Date().toISOString()
                        });

                    if (error) {
                        console.error("Failed to save score:", error);
                        return false;
                    }

                    console.log("Score saved successfully");
                    await loadLeaderboard();
                    return true;
                } catch (error) {
                    console.error("Unexpected error saving score:", error);
                    return false;
                }
            }

            function viewFullLeaderboard() {
                const leaderboardSection = document.querySelector('.leaderboard-section');
                if (leaderboardSection) {
                    leaderboardSection.scrollIntoView({
                        behavior: 'smooth'
                    });
                }
            }

            // ===========================
            // UI CONTROLS
            // ===========================
            function initUIControls() {
                // Sound toggle
                const toggleSound = document.getElementById('toggleSound');
                if (toggleSound) {
                    toggleSound.addEventListener('click', function() {
                        const icon = this.querySelector('i');
                        const isOn = icon.classList.contains('fa-volume-up');

                        if (isOn) {
                            this.innerHTML = '<i class="fas fa-volume-mute"></i> Sound Off';
                            // Unity audio mute
                            if (window.unityInstance) {
                                window.unityInstance.SendMessage('AudioManager', 'MuteAudio', 'true');
                            }
                        } else {
                            this.innerHTML = '<i class="fas fa-volume-up"></i> Sound';
                            // Unity audio unmute
                            if (window.unityInstance) {
                                window.unityInstance.SendMessage('AudioManager', 'MuteAudio', 'false');
                            }
                        }
                    });
                }

                // Fullscreen toggle
                const toggleFullscreen = document.getElementById('toggleFullscreen');
                if (toggleFullscreen) {
                    toggleFullscreen.addEventListener('click', function() {
                        if (window.unityInstance) {
                            window.unityInstance.SetFullscreen(1);
                        } else {
                            // Fallback browser fullscreen
                            if (!document.fullscreenElement) {
                                document.documentElement.requestFullscreen().catch(err => {
                                    console.error('Error attempting to enable fullscreen:', err);
                                });
                            } else {
                                document.exitFullscreen();
                            }
                        }
                    });
                }

                // Leaderboard buttons
                const refreshBtn = document.getElementById('refreshLeaderboard');
                const retryBtn = document.getElementById('retryLeaderboard');
                const viewFullBtn = document.getElementById('viewFullLeaderboard');

                if (refreshBtn) refreshBtn.addEventListener('click', loadLeaderboard);
                if (retryBtn) retryBtn.addEventListener('click', loadLeaderboard);
                if (viewFullBtn) viewFullBtn.addEventListener('click', viewFullLeaderboard);
            }

            // ===========================
            // ANIMATIONS
            // ===========================
            function initAnimations() {
                const observerOptions = {
                    threshold: 0.1,
                    rootMargin: '0px 0px -50px 0px'
                };

                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('fade-in-up');
                        }
                    });
                }, observerOptions);

                document.querySelectorAll('.feature-card, .achievement-card').forEach(el => {
                    observer.observe(el);
                });
            }

            // ===========================
            // PAGE INITIALIZATION
            // ===========================
            document.addEventListener('DOMContentLoaded', function() {
                initSupabase();
                initUIControls();
                initAnimations();
                
                // Load leaderboard after a short delay to ensure Supabase is initialized
                setTimeout(loadLeaderboard, 1000);

                // Auto refresh leaderboard every 30 seconds
                setInterval(loadLeaderboard, 30000);
            });

            // Global functions for Unity to call
            window.saveScore = saveScore;
            window.showLeaderboard = viewFullLeaderboard;

        </script>

    </body>

</html>